<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VR Experience</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
</head>
<body>
    <a-scene>
        <!-- 360-degree panoramic image -->
        <a-sky src="assets/perry___36.png" rotation="0 180 0"></a-sky>

        <!-- 360-degree video -->
        <a-videosphere src="assets/perry_new.mp4" rotation="0 180 0" visible="false"></a-videosphere>

        <!-- Button to switch to video -->
        <a-box color="red" position="-2 1 -3" scale="0.5 0.5 0.5" onclick="switchToVideo()"
         animation__click="property: scale; to: 0.4 0.4 0.4; dur: 200; easing: easeInOutQuad; loop: 0">
            <a-text value="360Â° Video" rotation="0 90 0" position="0 1 1" scale="1 1 1"></a-text>
        </a-box>

        <!-- Button to go back to panoramic view -->
        <a-box color="blue" position="2 1 -3" scale="0.5 0.5 0.5" onclick="switchToPanoramic()" 
        animation__click="property: scale; to: 0.4 0.4 0.4; dur: 200; easing: easeInOutQuad; loop: 0">
            <a-text value="Panoramic View" rotation="0 90 0" position="0 1 1" scale="1 1 1"></a-text>
        </a-box>

        <!-- Button to go back to main page -->
        <a-box color="green" position="0 1 -5" scale="0.5 0.5 0.5" onclick="goToMainPage()" 
        animation__click="property: scale; to: 0.4 0.4 0.4; dur: 200; easing: easeInOutQuad; loop: 0">
            <a-text value="Main Page" rotation="0 90 0" position="0 1 1" scale="1 1 1"></a-text>
        </a-box>

        <!-- Camera and cursor -->
        <a-camera position="0 1.6 0">
            <a-cursor color="red"></a-cursor>
        </a-camera>
    </a-scene>

    <script>
        var isVideoPlaying = false;

        // Function to switch to video
        function switchToVideo() {
            var video = document.querySelector('a-videosphere');
            var sky = document.querySelector('a-sky');

            video.setAttribute('visible', 'true');
            sky.setAttribute('visible', 'false');

            isVideoPlaying = true;
        }

        // Function to switch to panoramic view
        function switchToPanoramic() {
            var video = document.querySelector('a-videosphere');
            var sky = document.querySelector('a-sky');

            video.setAttribute('visible', 'false');
            sky.setAttribute('visible', 'true');

            isVideoPlaying = false;
        }

        // Function to go back to main page
        function goToMainPage() {
            window.location.href = "index.html"; 
        }

        // Toggle between video and panoramic view on cursor click
        document.querySelector('a-cursor').addEventListener('click', function() {
            if (isVideoPlaying) {
                switchToPanoramic();
            } else {
                switchToVideo();
            }
        });
    </script>
</body>
</html>
